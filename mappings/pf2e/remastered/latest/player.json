{
  "releasemin": "",
  "pdfUrl": "/modules/sheet-export/mappings/pf2e/remastered/latest/pf2e-remastered.pdf",
  "helperFunctions": {},
  "fonts": [],
  "globalContent": [],
  "images": [
    {
      "path": "@img",
      "page": 0,
      "pos_x": 15,
      "pos_y": 730,
      "width": 50,
      "height": 50
    }
  ],
  "fields": [
    {
      "content": " @name ", 
      "pdf": "CharacterName"
    }, 
    {
      "content": " Object.entries(@ownership).filter(entry => entry[1] === 3).map(entry => entry[0]).map(id => !game.users.get(id)?.isGM ? game.users.get(id)?.name : null).filter(x => x).join(\", \") ", 
      "pdf": "PlayerName"
    }, 
    {
      "content": " @ancestry.name ", 
      "pdf": "Ancestry"
    }, 
    {
      "content": " @heritage.name ", 
      "pdf": "Heritage_Traits"
    }, 
    {
      "content": " @background.name ", 
      "pdf": "Background"
    }, 
    {
      "content": " @class.name ", 
      "pdf": "Class"
    }, 
    {
      "content": " @system.traits.size.value ", 
      "pdf": "Size"
    }, 
    {
      "content": " @deity?.name ?? \"\" ", 
      "pdf": "DeityPhilosofy"
    }, 
    {
      "content": " @system.details.level.value ", 
      "pdf": "Level"
    }, 
    {
      "content": " @system.details.xp.value ", 
      "pdf": "XP"
    }, 
    {
      "content": " @system.resources.heroPoints.value >= 1 || '' ", 
      "pdf": "HeroPoints_1"
    }, 
    {
      "content": " @system.resources.heroPoints.value >= 2 || '' ", 
      "pdf": "HeroPoints_2"
    }, 
    {
      "content": " @system.resources.heroPoints.value >= 3 || '' ", 
      "pdf": "HeroPoints_3"
    }, 
    {
      "content": " (@abilities.str.mod < 0 ? @abilities.str.mod : '+' + @abilities.str.mod) || '+0' ", 
      "pdf": "STR"
    }, 
    {
      "content": " (@abilities.dex.mod < 0 ? @abilities.dex.mod : '+' + @abilities.dex.mod) || '+0' ", 
      "pdf": "DEX"
    }, 
    {
      "content": " (@abilities.con.mod < 0 ? @abilities.con.mod : '+' + @abilities.con.mod) || '+0' ", 
      "pdf": "CON"
    }, 
    {
      "content": " (@abilities.int.mod < 0 ? @abilities.int.mod : '+' + @abilities.int.mod) || '+0' ", 
      "pdf": "INT"
    }, 
    {
      "content": " (@abilities.wis.mod < 0 ? @abilities.wis.mod : '+' + @abilities.wis.mod) || '+0' ", 
      "pdf": "WIS"
    }, 
    {
      "content": " (@abilities.cha.mod < 0 ? @abilities.cha.mod : '+' + @abilities.cha.mod) || '+0' ", 
      "pdf": "CHA"
    }, 
    {
      "content": " @armorClass.value ", 
      "pdf": "AC"
    }, 
    {
      "content": " @armorClass.modifiers.filter(i => i.type === 'ability').map(i => i.modifier) ", 
      "pdf": "AC_DexMod"
    }, 
    {
      "content": " @armorClass.modifiers.filter(i => i.type === 'proficiency').map(i => i.modifier) ", 
      "pdf": "AC_ProfMod"
    }, 
    {
      "content": " @armorClass.modifiers.filter(i => i.type === 'item').map(i => i.modifier || 0) ", 
      "pdf": "AC_ItemMod"
    }, 
    {
      "content": " @system.proficiencies?.defenses.unarmored.rank >= 1 || '' ", 
      "pdf": "Unarmored_T"
    }, 
    {
      "content": " @system.proficiencies?.defenses.unarmored.rank >= 2 || '' ", 
      "pdf": "Unarmored_E"
    }, 
    {
      "content": " @system.proficiencies?.defenses.unarmored.rank >= 3 || '' ", 
      "pdf": "Unarmored_M"
    }, 
    {
      "content": " @system.proficiencies?.defenses.unarmored.rank >= 4 || '' ", 
      "pdf": "Unarmored_L"
    }, 
    {
      "content": " @system.proficiencies?.defenses.light.rank >= 1 || '' ", 
      "pdf": "Light_T"
    }, 
    {
      "content": " @system.proficiencies?.defenses.light.rank >= 2 || '' ", 
      "pdf": "Light_E"
    }, 
    {
      "content": " @system.proficiencies?.defenses.light.rank >= 3 || '' ", 
      "pdf": "Light_M"
    }, 
    {
      "content": " @system.proficiencies?.defenses.light.rank >= 4 || '' ", 
      "pdf": "Light_L"
    }, 
    {
      "content": " @system.proficiencies?.defenses.medium.rank >= 1 || '' ", 
      "pdf": "Medium_T"
    }, 
    {
      "content": " @system.proficiencies?.defenses.medium.rank >= 2 || '' ", 
      "pdf": "Medium_E"
    }, 
    {
      "content": " @system.proficiencies?.defenses.medium.rank >= 3 || '' ", 
      "pdf": "Medium_M"
    }, 
    {
      "content": " @system.proficiencies?.defenses.medium.rank >= 4 || '' ", 
      "pdf": "Medium_L"
    }, 
    {
      "content": " @system.proficiencies?.defenses.heavy.rank >= 1 || '' ", 
      "pdf": "Heavy_T"
    }, 
    {
      "content": " @system.proficiencies?.defenses.heavy.rank >= 2 || '' ", 
      "pdf": "Heavy_E"
    }, 
    {
      "content": " @system.proficiencies?.defenses.heavy.rank >= 3 || '' ", 
      "pdf": "Heavy_M"
    }, 
    {
      "content": " @system.proficiencies?.defenses.heavy.rank >= 4 || '' ", 
      "pdf": "Heavy_L"
    }, 
    {
      "content": " @hitPoints.max ", 
      "pdf": "MaxHP"
    }, 
    {
      "content": " @hitPoints.value ", 
      "pdf": "CurrentHP"
    }, 
    {
      "content": " @hitPoints.temp ", 
      "pdf": "TempHP"
    }, 
    {
      "content": " @system.attributes.dying.value >= 1 || '' ", 
      "pdf": "Dying_1"
    }, 
    {
      "content": " @system.attributes.dying.value >= 2 || '' ", 
      "pdf": "Dying_2"
    }, 
    {
      "content": " @system.attributes.dying.value >= 3 || '' ", 
      "pdf": "Dying_3"
    }, 
    {
      "content": " @system.attributes.dying.value >= 4 || '' ", 
      "pdf": "Dying_4"
    }, 
    {
      "content": " @system.attributes.wounded.value + '/' + @system.attributes.wounded.max ", 
      "pdf": "Wounded"
    }, 
    {
      "content": " @items.filter(i => i.system.category === 'shield' && i.isEquipped).map(i => i.system.acBonus)[0] || '' ", 
      "pdf": "AC_ShieldMod"
    }, 
    {
      "content": " @items.filter(i => i.system.category === 'shield' && i.isEquipped).map(i => i.system.hardness)[0] || '-' ", 
      "pdf": "ShieldHardness"
    }, 
    {
      "content": " @items.filter(i => i.system.category === 'shield' && i.isEquipped).map(i => i.system.hp.max)[0] || '-' ", 
      "pdf": "ShieldMaxHP"
    }, 
    {
      "content": " @items.filter(i => i.system.category === 'shield' && i.isEquipped).map(i => i.system.hp.brokenThreshold)[0] || '-' ", 
      "pdf": "ShieldBT"
    }, 
    {
      "content": " @items.filter(i => i.system.category === 'shield' && i.isEquipped).map(i => i.system.hp.value)[0] || '-' ", 
      "pdf": "ShieldCurHP"
    }, 
    {
      "content": " ['R: ' + @system.attributes.resistances.map(i => ' ' + i.type + ' ' + i.value), '\\nI: ' + @system.attributes.immunities.map(i => i.type)].filter(x => String(x)).join(\", \").trim() ", 
      "pdf": "Resistances_Immunities"
    }, 
    {
      "content": " @conditions.map(i => i.name).join(\", \") ", 
      "pdf": "Conditions"
    }, 
    {
      "content": " '+' + @saves.fortitude.mod ", 
      "pdf": "FortSave"
    }, 
    {
      "content": " @saves.fortitude.modifiers.filter(i => i.type === 'ability' && i.enabled).map(i => i.modifier) || 0 ", 
      "pdf": "FortSave_ConMod"
    }, 
    {
      "content": " @saves.fortitude.modifiers.filter(i => i.type === 'proficiency' && i.enabled).map(i => i.modifier) || 0 ", 
      "pdf": "FortSave_ProfMod"
    }, 
    {
      "content": " @saves.fortitude.modifiers.filter(i => i.type === 'item' && i.enabled).map(i => i.modifier) || 0 ", 
      "pdf": "FortSave_ItemMod"
    }, 
    {
      "content": " @saves.fortitude.rank >= 1 || '' ", 
      "pdf": "FortSave_T"
    }, 
    {
      "content": " @saves.fortitude.rank >= 2 || '' ", 
      "pdf": "FortSave_E"
    }, 
    {
      "content": " @saves.fortitude.rank >= 3 || '' ", 
      "pdf": "FortSave_M"
    }, 
    {
      "content": " @saves.fortitude.rank >= 4 || '' ", 
      "pdf": "FortSave_L"
    }, 
    {
      "content": " '+' + @saves.reflex.mod ", 
      "pdf": "RefSave"
    }, 
    {
      "content": " @saves.reflex.modifiers.filter(i => i.type === 'ability' && i.enabled).map(i => i.modifier) || 0 ", 
      "pdf": "RefSave_DexMod"
    }, 
    {
      "content": " @saves.reflex.modifiers.filter(i => i.type === 'proficiency' && i.enabled).map(i => i.modifier) || 0 ", 
      "pdf": "RefSave_ProfMod"
    }, 
    {
      "content": " @saves.reflex.modifiers.filter(i => i.type === 'item' && i.enabled).map(i => i.modifier) || 0 ", 
      "pdf": "RefSave_ItemMod"
    }, 
    {
      "content": " @saves.reflex.rank >= 1 || '' ", 
      "pdf": "RefSave_T"
    }, 
    {
      "content": " @saves.reflex.rank >= 2 || '' ", 
      "pdf": "RefSave_E"
    }, 
    {
      "content": " @saves.reflex.rank >= 3 || '' ", 
      "pdf": "RefSave_M"
    }, 
    {
      "content": " @saves.reflex.rank >= 4 || '' ", 
      "pdf": "RefSave_L"
    }, 
    {
      "content": " '+' + @saves.will.mod ", 
      "pdf": "WillSave"
    }, 
    {
      "content": " @saves.will.modifiers.filter(i => i.type === 'ability' && i.enabled).map(i => i.modifier) || 0 ", 
      "pdf": "WillSave_WisMod"
    }, 
    {
      "content": " @saves.will.modifiers.filter(i => i.type === 'proficiency' && i.enabled).map(i => i.modifier) || 0 ", 
      "pdf": "WillSave_ProfMod"
    }, 
    {
      "content": " @saves.will.modifiers.filter(i => i.type === 'item' && i.enabled).map(i => i.modifier) || 0 ", 
      "pdf": "WillSave_ItemMod"
    }, 
    {
      "content": " @saves.will.rank >= 1 || '' ", 
      "pdf": "WillSave_T"
    }, 
    {
      "content": " @saves.will.rank >= 2 || '' ", 
      "pdf": "WillSave_E"
    }, 
    {
      "content": " @saves.will.rank >= 3 || '' ", 
      "pdf": "WillSave_M"
    }, 
    {
      "content": " @saves.will.rank >= 4 || '' ", 
      "pdf": "WillSave_L"
    }, 
    {
      "content": "\n            'FOR: ' + @saves.fortitude.modifiers.filter(i => i.type === 'item' || i.type === 'untyped').map(i => ' ' + (i.slug ? i.slug : i.label) + ' ' + (i.modifier < 0 ? '' : '+') + i.modifier) + ' \\n' +\n            'REF: ' + @saves.reflex.modifiers.filter(i => i.type === 'item' || i.type === 'untyped').map(i => ' ' + (i.slug ? i.slug : i.label) + ' ' + (i.modifier < 0 ? '' : '+') + i.modifier) + ' \\n' +\n            'WILL: ' + @saves.will.modifiers.filter(i => i.type === 'item' || i.type === 'untyped').map(i => ' ' + (i.slug ? i.slug : i.label) + ' ' + (i.modifier < 0 ? '' : '+') + i.modifier)\n    ", 
      "pdf": "SavesNotes"
    }, 
    {
      "content": " '+' + @perception.mod ", 
      "pdf": "Perception"
    }, 
    {
      "content": " @perception.modifiers.filter(i => i.type === 'ability' && i.enabled).map(i => i.modifier) || 0 ", 
      "pdf": "Percept_WisMod"
    }, 
    {
      "content": " @perception.modifiers.filter(i => i.type === 'proficiency' && i.enabled).map(i => i.modifier) ", 
      "pdf": "Percept_ProfMod"
    }, 
    {
      "content": " @perception.modifiers.filter(i => i.type === 'item' && i.enabled).map(i => i.modifier) || 0 ", 
      "pdf": "Percept_ItemMod"
    }, 
    {
      "content": " @perception.rank >= 1 || '' ", 
      "pdf": "Percept_T"
    }, 
    {
      "content": " @perception.rank >= 2 || '' ", 
      "pdf": "Percept_E"
    }, 
    {
      "content": " @perception.rank >= 3 || '' ", 
      "pdf": "Percept_M"
    }, 
    {
      "content": " @perception.rank >= 4 || '' ", 
      "pdf": "Percept_L"
    }, 
    {
      "content": " @system.traits.senses.filter(i => i.type).map(i => i.label).join(\", \") + ' \\n' + @system.attributes.perception.modifiers.filter(i => i.type === 'item' || i.type === 'untyped').map(i => ' ' + (i.slug ? i.slug : i.label) + ' ' + (i.modifier < 0 ? '' : '+') + i.modifier) ", 
      "pdf": "Senses"
    }, 
    {
      "content": " @classDC.mod + 10 ", 
      "pdf": "ClassDC"
    }, 
    {
      "content": " @classDC.attributeModifier.value ", 
      "pdf": "ClassDC_KeyMod"
    }, 
    {
      "content": " @classDC.modifiers.filter(i => i.type === 'proficiency').map(i => i.modifier) || 0 ", 
      "pdf": "ClassDC_ProfMod"
    }, 
    {
      "content": " @classDC.modifiers.filter(i => i.type === 'item').map(i => i.modifier) || 0 ", 
      "pdf": "ClassDC_ItemMod"
    }, 
    {
      "content": "\n        @system.attributes.speed.value + @system.attributes.speed.totalModifier + @items.filter(i => i.type === 'armor' && i.isEquipped ).map(i => i.speedPenalty).reduce((a,v) => {return a+v},0)\n    ", 
      "pdf": "Speed"
    }, 
    {
      "content": "\n            @system.attributes.speed.otherSpeeds.map(i => ' ' + i.label + ' ' + i.value).join(\", \") + ' \\n' +\n            @system.attributes.speed.modifiers.map(i => ' ' + (i.slug ? i.slug : i.label) + ' ' + (i.modifier < 0 ? '' : '+') + i.modifier)\n    ", 
      "pdf": "SpeedNotes"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n        .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n        .map(i => i.label)[0] || ''\n    ", 
      "pdf": "Melee1_Name"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => (i.totalModifier < 0 ? '' : '+') + i.totalModifier)[0] || ''\n    ", 
      "pdf": "Melee1_AtkMod"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.modifiers)[0]?.filter(a => a.type === 'ability' && a.enabled).map(a => a.modifier) || ''\n    ", 
      "pdf": "Melee1_AtkStrMod"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.modifiers)[0]?.filter(a => a.type === 'proficiency').map(a => a.modifier) || ''\n    ", 
      "pdf": "Melee1_AtkProfMod"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.modifiers)[0]?.filter(a => a.type === 'item' && a.enabled).map(a => a.modifier) || ''\n    ", 
      "pdf": "Melee1_AtkItemMod"
    }, 
    {
      "content": "\n        (\n            @system.actions.filter(a => (a.description === 'PF2E.Strike.Melee.Description' || a.description === 'PF2E.Strike.Unarmed.Description'))\n                .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n                .map(i => i.item.system.damage.dice + i.item.system.damage.die)[0] || ''\n        ) + (\n            @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n                .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n                .map(i => i.modifiers)[0]?.filter(a => a.ability === 'str').map(a => (a.modifier < 0 ? '' : '+') + a.modifier)[0] || ''\n        )\n    ", 
      "pdf": "Melee1_Damage"
    }, 
    {
      "content": "\n        @system.actions.filter(a => (a.description === 'PF2E.Strike.Melee.Description' || a.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.item.system.damage.damageType === 'bludgeoning')[0] || false\n    ", 
      "pdf": "Melee1_DmgB"
    }, 
    {
      "content": "\n        @system.actions.filter(a => (a.description === 'PF2E.Strike.Melee.Description' || a.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.item.system.damage.damageType === 'piercing')[0] || false\n    ", 
      "pdf": "Melee1_DmgP"
    }, 
    {
      "content": "\n        @system.actions.filter(a => (a.description === 'PF2E.Strike.Melee.Description' || a.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.item.system.damage.damageType === 'slashing' || i.item.system.traits.value.includes('versatile-s'))[0] || false\n    ", 
      "pdf": "Melee1_DmgS"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n            .map(i => i.item.system.traits)[0]?.value.map(a => a).join(\", \") || ''\n    ", 
      "pdf": "Melee1_Traits_Notes"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n        .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n        .map(i => i.label)[1] || ''\n    ", 
      "pdf": "Melee2_Name"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => (i.totalModifier < 0 ? '' : '+') + i.totalModifier)[1] || ''\n    ", 
      "pdf": "Melee2_AtkMod"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.modifiers)[1]?.filter(a => a.type === 'ability' && a.enabled).map(a => a.modifier) || ''\n    ", 
      "pdf": "Melee2_AtkStrMod"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.modifiers)[1]?.filter(a => a.type === 'proficiency').map(a => a.modifier) || ''\n    ", 
      "pdf": "Melee2_AtkProfMod"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.modifiers)[1]?.filter(a => a.type === 'item' && a.enabled).map(a => a.modifier)[0] || ''\n    ", 
      "pdf": "Melee2_AtkItemMod"
    }, 
    {
      "content": "\n        (\n            @system.actions.filter(a => (a.description === 'PF2E.Strike.Melee.Description' || a.description === 'PF2E.Strike.Unarmed.Description'))\n                .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n                .map(i => i.item.system.damage.dice + i.item.system.damage.die)[1] || ''\n        ) + (\n            @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n                .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n                .map(i => i.modifiers)[1]?.filter(a => a.ability === 'str').map(a => (a.modifier < 0 ? '' : '+') + a.modifier)[0] || ''\n        )\n    ", 
      "pdf": "Melee2_Damage"
    }, 
    {
      "content": "\n        @system.actions.filter(a => (a.description === 'PF2E.Strike.Melee.Description' || a.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.item.system.damage.damageType === 'bludgeoning')[1] || false\n    ", 
      "pdf": "Melee2_DmgB"
    }, 
    {
      "content": "\n        @system.actions.filter(a => (a.description === 'PF2E.Strike.Melee.Description' || a.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.item.system.damage.damageType === 'piercing')[1] || false\n    ", 
      "pdf": "Melee2_DmgP"
    }, 
    {
      "content": "\n        @system.actions.filter(a => (a.description === 'PF2E.Strike.Melee.Description' || a.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.item.system.damage.damageType === 'slashing' || i.item.system.traits.value.includes('versatile-s'))[1] || false\n    ", 
      "pdf": "Melee2_DmgS"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n            .map(i => i.item.system.traits)[1]?.value.map(a => a).join(\", \") || ''\n    ", 
      "pdf": "Melee2_Traits_Notes"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n        .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n        .map(i => i.label)[2] || ''\n    ", 
      "pdf": "Melee3_Name"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => (i.totalModifier < 0 ? '' : '+') + i.totalModifier)[2] || ''\n    ", 
      "pdf": "Melee3_AtkMod"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.modifiers)[2]?.filter(a => a.type === 'ability' && a.enabled).map(a => a.modifier) || ''\n    ", 
      "pdf": "Melee3_AtkStrMod"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.modifiers)[2]?.filter(a => a.type === 'proficiency').map(a => a.modifier)[0] || ''\n    ", 
      "pdf": "Melee3_AtkProfMod"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.modifiers)[2]?.filter(a => a.type === 'item' && a.enabled).map(a => a.modifier)[0] || ''\n    ", 
      "pdf": "Melee3_AtkItemMod"
    }, 
    {
      "content": "\n        (\n            @system.actions.filter(a => (a.description === 'PF2E.Strike.Melee.Description' || a.description === 'PF2E.Strike.Unarmed.Description'))\n                .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n                .map(i => i.item.system.damage.dice + i.item.system.damage.die)[2] || ''\n        ) + (\n            @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n                .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n                .map(i => i.modifiers)[2]?.filter(a => a.ability === 'str').map(a => (a.modifier < 0 ? '' : '+') + a.modifier)[0] || ''\n        )\n    ", 
      "pdf": "Melee3_Damage"
    }, 
    {
      "content": "\n        @system.actions.filter(a => (a.description === 'PF2E.Strike.Melee.Description' || a.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.item.system.damage.damageType === 'bludgeoning')[2] || false\n    ", 
      "pdf": "Melee3_DmgB"
    }, 
    {
      "content": "\n        @system.actions.filter(a => (a.description === 'PF2E.Strike.Melee.Description' || a.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.item.system.damage.damageType === 'piercing')[2] || false\n    ", 
      "pdf": "Melee3_DmgP"
    }, 
    {
      "content": "\n        @system.actions.filter(a => (a.description === 'PF2E.Strike.Melee.Description' || a.description === 'PF2E.Strike.Unarmed.Description'))\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.item.system.damage.damageType === 'slashing' || i.item.system.traits.value.includes('versatile-s'))[2] || false\n    ", 
      "pdf": "Melee3_DmgS"
    }, 
    {
      "content": "\n        @system.actions.filter(i => (i.description === 'PF2E.Strike.Melee.Description' || i.description === 'PF2E.Strike.Unarmed.Description'))\n            .map(i => i.item.system.traits)[2]?.value.map(a => a).join(\", \") || ''\n    ", 
      "pdf": "Melee3_Traits_Notes"
    }, 
    {
      "content": "\n        @system.actions.filter(i => i.description === 'PF2E.Strike.Ranged.Description')\n        .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n        .map(i => i.label)[0] || ''\n    ", 
      "pdf": "Ranged1_Name"
    }, 
    {
      "content": "\n        @system.actions.filter(i => i.description === 'PF2E.Strike.Ranged.Description')\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => (i.totalModifier < 0 ? '' : '+') + i.totalModifier)[0] || ''\n    ", 
      "pdf": "Ranged1_AtkMod"
    }, 
    {
      "content": "\n        @system.actions.filter(i => i.description === 'PF2E.Strike.Ranged.Description')\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.modifiers)[0]?.filter(a => a.type === 'ability' && a.enabled).map(a => a.modifier) || ''\n    ", 
      "pdf": "Ranged1_AtkDexMod"
    }, 
    {
      "content": "\n        @system.actions.filter(i => i.description === 'PF2E.Strike.Ranged.Description')\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.modifiers)[0]?.filter(a => a.type === 'proficiency').map(a => a.modifier) || ''\n    ", 
      "pdf": "Ranged1_AtkProfMod"
    }, 
    {
      "content": "\n        @system.actions.filter(i => i.description === 'PF2E.Strike.Ranged.Description')\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.modifiers)[0]?.filter(a => a.type === 'item' && a.enabled).map(a => a.modifier) || ''\n    ", 
      "pdf": "Ranged1_AtkItemMod"
    }, 
    {
      "content": "\n        (\n            @system.actions.filter(a => a.description === 'PF2E.Strike.Ranged.Description')\n                .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n                .map(i => i.item.system.damage.dice + i.item.system.damage.die)[0] || ''\n        )\n    ", 
      "pdf": "Ranged1_Damage"
    }, 
    {
      "content": "\n        @system.actions.filter(a => a.description === 'PF2E.Strike.Ranged.Description')\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.item.system.damage.damageType === 'bludgeoning')[0] || false\n    ", 
      "pdf": "Ranged1_DmgB"
    }, 
    {
      "content": "\n        @system.actions.filter(a => a.description === 'PF2E.Strike.Ranged.Description')\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.item.system.damage.damageType === 'piercing')[0] || false\n    ", 
      "pdf": "Ranged1_DmgP"
    }, 
    {
      "content": "\n        @system.actions.filter(a => a.description === 'PF2E.Strike.Ranged.Description')\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.item.system.damage.damageType === 'slashing' || i.item.system.traits.value.includes('versatile-s'))[0] || false\n    ", 
      "pdf": "Ranged1_DmgS"
    }, 
    {
      "content": "\n        @system.actions.filter(i => i.description === 'PF2E.Strike.Ranged.Description')\n            .map(i => i.item.system.traits)[0]?.value.map(a => a).join(\", \") || ''\n    ", 
      "pdf": "Ranged1_Traits_Notes"
    }, 
    {
      "content": "\n        @system.actions.filter(i => i.description === 'PF2E.Strike.Ranged.Description')\n        .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n        .map(i => i.label)[1] || ''\n    ", 
      "pdf": "Ranged2_Name"
    }, 
    {
      "content": "\n        @system.actions.filter(i => i.description === 'PF2E.Strike.Ranged.Description')\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => (i.totalModifier < 0 ? '' : '+') + i.totalModifier)[1] || ''\n    ", 
      "pdf": "Ranged2_AtkMod"
    }, 
    {
      "content": "\n        @system.actions.filter(i => i.description === 'PF2E.Strike.Ranged.Description')\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.modifiers)[1]?.filter(a => a.type === 'ability' && a.enabled).map(a => a.modifier) || ''\n    ", 
      "pdf": "Ranged2_AtkDexMod"
    }, 
    {
      "content": "\n        @system.actions.filter(i => i.description === 'PF2E.Strike.Ranged.Description')\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.modifiers)[1]?.filter(a => a.type === 'proficiency').map(a => a.modifier) || ''\n    ", 
      "pdf": "Ranged2_AtkProfMod"
    }, 
    {
      "content": "\n        @system.actions.filter(i => i.description === 'PF2E.Strike.Ranged.Description')\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.modifiers)[1]?.filter(a => a.type === 'item' && a.enabled).map(a => a.modifier) || ''\n    ", 
      "pdf": "Ranged2_AtkItemMod"
    }, 
    {
      "content": "\n        (\n            @system.actions.filter(a => a.description === 'PF2E.Strike.Ranged.Description')\n                .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n                .map(i => i.item.system.damage.dice + i.item.system.damage.die)[1] || ''\n        )\n    ", 
      "pdf": "Ranged2_Damage"
    }, 
    {
      "content": "\n        @system.actions.filter(a => a.description === 'PF2E.Strike.Ranged.Description')\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.item.system.damage.damageType === 'bludgeoning')[1] || false\n    ", 
      "pdf": "Ranged2_DmgB"
    }, 
    {
      "content": "\n        @system.actions.filter(a => a.description === 'PF2E.Strike.Ranged.Description')\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.item.system.damage.damageType === 'piercing')[1] || false\n    ", 
      "pdf": "Ranged2_DmgP"
    }, 
    {
      "content": "\n        @system.actions.filter(a => a.description === 'PF2E.Strike.Ranged.Description')\n            .sort( (a,b) => (a.label < b.label ? -1 : (a.label > b.label ? 1 : 0)) )\n            .map(i => i.item.system.damage.damageType === 'slashing' || i.item.system.traits.value.includes('versatile-s'))[1] || false\n    ", 
      "pdf": "Ranged2_DmgS"
    }, 
    {
      "content": "\n        @system.actions.filter(i => i.description === 'PF2E.Strike.Ranged.Description')\n            .map(i => i.item.system.traits)[1]?.value.map(a => a).join(\", \") || ''\n    ", 
      "pdf": "Ranged2_Traits_Notes"
    }, 
    {
      "content": " @system.proficiencies.attacks.unarmed.rank >= 1 || false ", 
      "pdf": "Unarmed_T"
    }, 
    {
      "content": " @system.proficiencies.attacks.unarmed.rank >= 2 || false ", 
      "pdf": "Unarmed_E"
    }, 
    {
      "content": " @system.proficiencies.attacks.unarmed.rank >= 3 || false ", 
      "pdf": "Unarmed_M"
    }, 
    {
      "content": " @system.proficiencies.attacks.unarmed.rank >= 4 || false ", 
      "pdf": "Unarmed_L"
    }, 
    {
      "content": " @system.proficiencies.attacks.simple.rank >= 1 || false ", 
      "pdf": "Simple_T"
    }, 
    {
      "content": " @system.proficiencies.attacks.simple.rank >= 2 || false ", 
      "pdf": "Simple_E"
    }, 
    {
      "content": " @system.proficiencies.attacks.simple.rank >= 3 || false ", 
      "pdf": "Simple_M"
    }, 
    {
      "content": " @system.proficiencies.attacks.simple.rank >= 4 || false ", 
      "pdf": "Simple_L"
    }, 
    {
      "content": " @system.proficiencies.attacks.martial.rank >= 1 || false ", 
      "pdf": "Martial_T"
    }, 
    {
      "content": " @system.proficiencies.attacks.martial.rank >= 2 || false ", 
      "pdf": "Martial_E"
    }, 
    {
      "content": " @system.proficiencies.attacks.martial.rank >= 3 || false ", 
      "pdf": "Martial_M"
    }, 
    {
      "content": " @system.proficiencies.attacks.martial.rank >= 4 || false ", 
      "pdf": "Martial_L"
    }, 
    {
      "content": " @system.proficiencies.attacks.advanced.rank >= 1 || false ", 
      "pdf": "Advanced_T"
    }, 
    {
      "content": " @system.proficiencies.attacks.advanced.rank >= 2 || false ", 
      "pdf": "Advanced_E"
    }, 
    {
      "content": " @system.proficiencies.attacks.advanced.rank >= 3 || false ", 
      "pdf": "Advanced_M"
    }, 
    {
      "content": " @system.proficiencies.attacks.advanced.rank >= 4 || false ", 
      "pdf": "Advanced_L"
    }, 
    {
      "content": " false ", 
      "pdf": "WeapProfOther_T"
    }, 
    {
      "content": " false ", 
      "pdf": "WeapProfOther_E"
    }, 
    {
      "content": " false ", 
      "pdf": "WeapProfOther_M"
    }, 
    {
      "content": " false ", 
      "pdf": "WeapProfOther_L"
    }, 
    {
      "content": " '' ", 
      "pdf": "OtherWeaponType"
    }, 
    {
      "content": " @system.traits.languages.value.concat([@system.traits.languages.custom]).filter(function(a) {return a.trim() != ''}).join(\", \") ", 
      "pdf": "Languages"
    }, 
    {
      "content": " (@skills.acrobatics.mod < 0 ? '' : '+') + @skills.acrobatics.mod || '0' ", 
      "pdf": "Acrobatics"
    }, 
    {
      "content": " @skills.acrobatics.attributeModifier.modifier || '0' ", 
      "pdf": "Acro_Mod"
    }, 
    {
      "content": " @skills.acrobatics.modifiers.filter(i => i.type == 'proficiency').map(i => i.modifier) || '0' ", 
      "pdf": "Acro_ProfMod"
    }, 
    {
      "content": " @skills.acrobatics.rank >= 1 || false ", 
      "pdf": "Acro_T"
    }, 
    {
      "content": " @skills.acrobatics.rank >= 2 || false ", 
      "pdf": "Acro_E"
    }, 
    {
      "content": " @skills.acrobatics.rank >= 3 || false ", 
      "pdf": "Acro_M"
    }, 
    {
      "content": " @skills.acrobatics.rank >= 4 || false ", 
      "pdf": "Acro_L"
    }, 
    {
      "content": " @skills.acrobatics.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => ([i.modifier].reduce((partialSum, a) => partialSum + a, 0) < 0 ? [i.modifier].reduce((partialSum, a) => partialSum + a, 0) : '+' + [i.modifier].reduce((partialSum, a) => partialSum + a, 0)) || '0') ", 
      "pdf": "Acro_ItemMod"
    }, 
    {
      "content": " @skills.acrobatics.modifiers.filter(i => i.slug === 'armor-check-penalty' ).map(i => i.modifier) || '0' ", 
      "pdf": "Acro_ArmorMod"
    }, 
    {
      "content": " (@skills.arcana.mod < 0 ? '' : '+') + @skills.arcana.mod || '0' ", 
      "pdf": "Arcana"
    }, 
    {
      "content": " @skills.arcana.attributeModifier.modifier || '0' ", 
      "pdf": "Arcana_Mod"
    }, 
    {
      "content": " @skills.arcana.modifiers.filter(i => i.type == 'proficiency').map(i => i.modifier) || '0' ", 
      "pdf": "Arcana_ProfMod"
    }, 
    {
      "content": " @skills.arcana.rank >= 1 || false ", 
      "pdf": "Arcana_T"
    }, 
    {
      "content": " @skills.arcana.rank >= 2 || false ", 
      "pdf": "Arcana_E"
    }, 
    {
      "content": " @skills.arcana.rank >= 3 || false ", 
      "pdf": "Arcana_M"
    }, 
    {
      "content": " @skills.arcana.rank >= 4 || false ", 
      "pdf": "Arcana_L"
    }, 
    {
      "content": " @skills.arcana.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => ([i.modifier].reduce((partialSum, a) => partialSum + a, 0) < 0 ? [i.modifier].reduce((partialSum, a) => partialSum + a, 0) : '+' + [i.modifier].reduce((partialSum, a) => partialSum + a, 0)) || '0') ", 
      "pdf": "Arcana_ItemMod"
    }, 
    {
      "content": " (@skills.athletics.mod < 0 ? '' : '+') + @skills.athletics.mod || '0' ", 
      "pdf": "Athletics"
    }, 
    {
      "content": " @skills.athletics.attributeModifier.modifier || '0' ", 
      "pdf": "Ath_Mod"
    }, 
    {
      "content": " @skills.athletics.modifiers.filter(i => i.type == 'proficiency').map(i => i.modifier) || '0' ", 
      "pdf": "Ath_ProfMod"
    }, 
    {
      "content": " @skills.athletics.rank >= 1 || false ", 
      "pdf": "Ath_T"
    }, 
    {
      "content": " @skills.athletics.rank >= 2 || false ", 
      "pdf": "Ath_E"
    }, 
    {
      "content": " @skills.athletics.rank >= 3 || false ", 
      "pdf": "Ath_M"
    }, 
    {
      "content": " @skills.athletics.rank >= 4 || false ", 
      "pdf": "Ath_L"
    }, 
    {
      "content": "\n        @skills.athletics.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty')\n            .map(i =>\n                ([i.modifier].reduce((partialSum, a) => partialSum + a, 0) < 0 ? [i.modifier].reduce((partialSum, a) => partialSum + a, 0) : '+' + [i.modifier].reduce((partialSum, a) => partialSum + a, 0)) || '0') ", 
      "pdf": "Ath_ItemMod"
    }, 
    {
      "content": " @skills.athletics.modifiers.filter(i => i.slug === 'armor-check-penalty' ).map(i => i.modifier) || '0' ", 
      "pdf": "Ath_ArmorMod"
    }, 
    {
      "content": " (@skills.crafting.mod < 0 ? '' : '+') + @skills.crafting.mod || '0' ", 
      "pdf": "Crafting"
    }, 
    {
      "content": " @skills.crafting.attributeModifier.modifier || '' ", 
      "pdf": "Craft_Mod"
    }, 
    {
      "content": " @skills.crafting.modifiers.filter(i => i.type == 'proficiency').map(i => i.modifier) || '0' ", 
      "pdf": "Craft_ProfMod"
    }, 
    {
      "content": " @skills.crafting.rank >= 1 || false ", 
      "pdf": "Craft_T"
    }, 
    {
      "content": " @skills.crafting.rank >= 2 || false ", 
      "pdf": "Craft_E"
    }, 
    {
      "content": " @skills.crafting.rank >= 3 || false ", 
      "pdf": "Craft_M"
    }, 
    {
      "content": " @skills.crafting.rank >= 4 || false ", 
      "pdf": "Craft_L"
    }, 
    {
      "content": " @skills.crafting.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => ([i.modifier].reduce((partialSum, a) => partialSum + a, 0) < 0 ? [i.modifier].reduce((partialSum, a) => partialSum + a, 0) : '+' + [i.modifier].reduce((partialSum, a) => partialSum + a, 0)) || '0') ", 
      "pdf": "Craft_ItemMod"
    }, 
    {
      "content": " (@skills.deception.mod < 0 ? '' : '+') + @skills.deception.mod || '0' ", 
      "pdf": "Deception"
    }, 
    {
      "content": " @skills.deception.attributeModifier.modifier || '0' ", 
      "pdf": "Decept_Mod"
    }, 
    {
      "content": " @skills.deception.modifiers.filter(i => i.type == 'proficiency').map(i => i.modifier) || '0' ", 
      "pdf": "Decept_ProfMod"
    }, 
    {
      "content": " @skills.deception.rank >= 1 || false ", 
      "pdf": "Decept_T"
    }, 
    {
      "content": " @skills.deception.rank >= 2 || false ", 
      "pdf": "Decept_E"
    }, 
    {
      "content": " @skills.deception.rank >= 3 || false ", 
      "pdf": "Decept_M"
    }, 
    {
      "content": " @skills.deception.rank >= 4 || false ", 
      "pdf": "Decept_L"
    }, 
    {
      "content": " @skills.deception.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => ([i.modifier].reduce((partialSum, a) => partialSum + a, 0) < 0 ? [i.modifier].reduce((partialSum, a) => partialSum + a, 0) : '+' + [i.modifier].reduce((partialSum, a) => partialSum + a, 0)) || '0') ", 
      "pdf": "Decept_ItemMod"
    }, 
    {
      "content": " (@skills.diplomacy.mod < 0 ? '' : '+') + @skills.diplomacy.mod || '0' ", 
      "pdf": "Diplomacy"
    }, 
    {
      "content": " @skills.diplomacy.attributeModifier.modifier || '0' ", 
      "pdf": "Diplo_Mod"
    }, 
    {
      "content": " @skills.diplomacy.modifiers.filter(i => i.type == 'proficiency').map(i => i.modifier) || '' ", 
      "pdf": "Diplo_ProfMod"
    }, 
    {
      "content": " @skills.diplomacy.rank >= 1 || false ", 
      "pdf": "Diplo_T"
    }, 
    {
      "content": " @skills.diplomacy.rank >= 2 || false ", 
      "pdf": "Diplo_E"
    }, 
    {
      "content": " @skills.diplomacy.rank >= 3 || false ", 
      "pdf": "Diplo_M"
    }, 
    {
      "content": " @skills.diplomacy.rank >= 4 || false ", 
      "pdf": "Diplo_L"
    }, 
    {
      "content": " @skills.diplomacy.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => ([i.modifier].reduce((partialSum, a) => partialSum + a, 0) < 0 ? [i.modifier].reduce((partialSum, a) => partialSum + a, 0) : '+' + [i.modifier].reduce((partialSum, a) => partialSum + a, 0)) || '0') ", 
      "pdf": "Diplo_ItemMod"
    }, 
    {
      "content": " (@skills.intimidation.mod < 0 ? '' : '+') + @skills.intimidation.mod || '0' ", 
      "pdf": "Intimidation"
    }, 
    {
      "content": " @skills.intimidation.attributeModifier.modifier || '' ", 
      "pdf": "Intim_Mod"
    }, 
    {
      "content": " @skills.intimidation.modifiers.filter(i => i.type == 'proficiency').map(i => i.modifier) || '0' ", 
      "pdf": "Intim_ProfMod"
    }, 
    {
      "content": " @skills.intimidation.rank >= 1 || false ", 
      "pdf": "Intim_T"
    }, 
    {
      "content": " @skills.intimidation.rank >= 2 || false ", 
      "pdf": "Intim_E"
    }, 
    {
      "content": " @skills.intimidation.rank >= 3 || false ", 
      "pdf": "Intim_M"
    }, 
    {
      "content": " @skills.intimidation.rank >= 4 || false ", 
      "pdf": "Intim_L"
    }, 
    {
      "content": " @skills.intimidation.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => ([i.modifier].reduce((partialSum, a) => partialSum + a, 0) < 0 ? [i.modifier].reduce((partialSum, a) => partialSum + a, 0) : '+' + [i.modifier].reduce((partialSum, a) => partialSum + a, 0)) || '0') ", 
      "pdf": "Intim_ItemMod"
    }, 
    {
      "content": " (@skills.medicine.mod < 0 ? '' : '+') + @skills.medicine.mod || '0' ", 
      "pdf": "Medicine"
    }, 
    {
      "content": " @skills.medicine.attributeModifier.modifier || '0' ", 
      "pdf": "Med_Mod"
    }, 
    {
      "content": " @skills.medicine.modifiers.filter(i => i.type == 'proficiency').map(i => i.modifier) || '0' ", 
      "pdf": "Med_ProfMod"
    }, 
    {
      "content": " @skills.medicine.rank >= 1 || false ", 
      "pdf": "Med_T"
    }, 
    {
      "content": " @skills.medicine.rank >= 2 || false ", 
      "pdf": "Med_E"
    }, 
    {
      "content": " @skills.medicine.rank >= 3 || false ", 
      "pdf": "Med_M"
    }, 
    {
      "content": " @skills.medicine.rank >= 4 || false ", 
      "pdf": "Med_L"
    }, 
    {
      "content": " @skills.medicine.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => ([i.modifier].reduce((partialSum, a) => partialSum + a, 0) < 0 ? [i.modifier].reduce((partialSum, a) => partialSum + a, 0) : '+' + [i.modifier].reduce((partialSum, a) => partialSum + a, 0)) || '0') ", 
      "pdf": "Med_ItemMod"
    }, 
    {
      "content": " (@skills.nature.mod < 0 ? '' : '+') + @skills.nature.mod || '0' ", 
      "pdf": "Nature"
    }, 
    {
      "content": " @skills.nature.attributeModifier.modifier || '0' ", 
      "pdf": "Nature_Mod"
    }, 
    {
      "content": " @skills.nature.modifiers.filter(i => i.type == 'proficiency').map(i => i.modifier) || '0' ", 
      "pdf": "Nature_ProfMod"
    }, 
    {
      "content": " @skills.nature.rank >= 1 || false ", 
      "pdf": "Nature_T"
    }, 
    {
      "content": " @skills.nature.rank >= 2 || false ", 
      "pdf": "Nature_E"
    }, 
    {
      "content": " @skills.nature.rank >= 3 || false ", 
      "pdf": "Nature_M"
    }, 
    {
      "content": " @skills.nature.rank >= 4 || false ", 
      "pdf": "Nature_L"
    }, 
    {
      "content": " @skills.nature.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => ([i.modifier].reduce((partialSum, a) => partialSum + a, 0) < 0 ? [i.modifier].reduce((partialSum, a) => partialSum + a, 0) : '+' + [i.modifier].reduce((partialSum, a) => partialSum + a, 0)) || '0') ", 
      "pdf": "Nature_ItemMod"
    }, 
    {
      "content": " (@skills.occultism.mod < 0 ? '' : '+') + @skills.occultism.mod || '0' ", 
      "pdf": "Occultism"
    }, 
    {
      "content": " @skills.occultism.attributeModifier.modifier || '' ", 
      "pdf": "Occult_Mod"
    }, 
    {
      "content": " @skills.occultism.modifiers.filter(i => i.type == 'proficiency').map(i => i.modifier) || '0' ", 
      "pdf": "Occult_ProfMod"
    }, 
    {
      "content": " @skills.occultism.rank >= 1 || false ", 
      "pdf": "Occult_T"
    }, 
    {
      "content": " @skills.occultism.rank >= 2 || false ", 
      "pdf": "Occult_E"
    }, 
    {
      "content": " @skills.occultism.rank >= 3 || false ", 
      "pdf": "Occult_M"
    }, 
    {
      "content": " @skills.occultism.rank >= 4 || false ", 
      "pdf": "Occult_L"
    }, 
    {
      "content": " @skills.occultism.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => ([i.modifier].reduce((partialSum, a) => partialSum + a, 0) < 0 ? [i.modifier].reduce((partialSum, a) => partialSum + a, 0) : '+' + [i.modifier].reduce((partialSum, a) => partialSum + a, 0)) || '0') ", 
      "pdf": "Occult_ItemMod"
    }, 
    {
      "content": " (@skills.performance.mod < 0 ? '' : '+') + @skills.performance.mod || '0' ", 
      "pdf": "Performance"
    }, 
    {
      "content": " @skills.performance.attributeModifier.modifier || '0' ", 
      "pdf": "Perf_Mod"
    }, 
    {
      "content": " @skills.performance.modifiers.filter(i => i.type == 'proficiency').map(i => i.modifier) || '0' ", 
      "pdf": "Perf_ProfMod"
    }, 
    {
      "content": " @skills.performance.rank >= 1 || false ", 
      "pdf": "Perf_T"
    }, 
    {
      "content": " @skills.performance.rank >= 2 || false ", 
      "pdf": "Perf_E"
    }, 
    {
      "content": " @skills.performance.rank >= 3 || false ", 
      "pdf": "Perf_M"
    }, 
    {
      "content": " @skills.performance.rank >= 4 || false ", 
      "pdf": "Perf_L"
    }, 
    {
      "content": " @skills.performance.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => ([i.modifier].reduce((partialSum, a) => partialSum + a, 0) < 0 ? [i.modifier].reduce((partialSum, a) => partialSum + a, 0) : '+' + [i.modifier].reduce((partialSum, a) => partialSum + a, 0)) || '0') ", 
      "pdf": "Perf_ItemMod"
    }, 
    {
      "content": " (@skills.religion.mod < 0 ? '' : '+') + @skills.religion.mod || '0' ", 
      "pdf": "Religion"
    }, 
    {
      "content": " @skills.religion.attributeModifier.modifier || '0' ", 
      "pdf": "Religion_Mod"
    }, 
    {
      "content": " @skills.religion.modifiers.filter(i => i.type == 'proficiency').map(i => i.modifier) || '0' ", 
      "pdf": "Religion_ProfMod"
    }, 
    {
      "content": " @skills.religion.rank >= 1 || false ", 
      "pdf": "Religion_T"
    }, 
    {
      "content": " @skills.religion.rank >= 2 || false ", 
      "pdf": "Religion_E"
    }, 
    {
      "content": " @skills.religion.rank >= 3 || false ", 
      "pdf": "Religion_M"
    }, 
    {
      "content": " @skills.religion.rank >= 4 || false ", 
      "pdf": "Religion_L"
    }, 
    {
      "content": " @skills.religion.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => ([i.modifier].reduce((partialSum, a) => partialSum + a, 0) < 0 ? [i.modifier].reduce((partialSum, a) => partialSum + a, 0) : '+' + [i.modifier].reduce((partialSum, a) => partialSum + a, 0)) || '0') ", 
      "pdf": "Religion_ItemMod"
    }, 
    {
      "content": " (@skills.society.mod < 0 ? '' : '+') + @skills.society.mod || '0' ", 
      "pdf": "Society"
    }, 
    {
      "content": " @skills.society.attributeModifier.modifier || '0' ", 
      "pdf": "Society_Mod"
    }, 
    {
      "content": " @skills.society.modifiers.filter(i => i.type == 'proficiency').map(i => i.modifier) || '0' ", 
      "pdf": "Society_ProfMod"
    }, 
    {
      "content": " @skills.society.rank >= 1 || false ", 
      "pdf": "Society_T"
    }, 
    {
      "content": " @skills.society.rank >= 2 || false ", 
      "pdf": "Society_E"
    }, 
    {
      "content": " @skills.society.rank >= 3 || false ", 
      "pdf": "Society_M"
    }, 
    {
      "content": " @skills.society.rank >= 4 || false ", 
      "pdf": "Society_L"
    }, 
    {
      "content": " @skills.society.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => ([i.modifier].reduce((partialSum, a) => partialSum + a, 0) < 0 ? [i.modifier].reduce((partialSum, a) => partialSum + a, 0) : '+' + [i.modifier].reduce((partialSum, a) => partialSum + a, 0)) || '0') ", 
      "pdf": "Society_ItemMod"
    }, 
    {
      "content": " (@skills.stealth.mod < 0 ? '' : '+') + @skills.stealth.mod || '0' ", 
      "pdf": "Stealth"
    }, 
    {
      "content": " @skills.stealth.attributeModifier.modifier || '' ", 
      "pdf": "Stealth_Mod"
    }, 
    {
      "content": " @skills.stealth.modifiers.filter(i => i.type == 'proficiency').map(i => i.modifier) || '0' ", 
      "pdf": "Stealth_ProfMod"
    }, 
    {
      "content": " @skills.stealth.rank >= 1 || false ", 
      "pdf": "Stealth_T"
    }, 
    {
      "content": " @skills.stealth.rank >= 2 || false ", 
      "pdf": "Stealth_E"
    }, 
    {
      "content": " @skills.stealth.rank >= 3 || false ", 
      "pdf": "Stealth_M"
    }, 
    {
      "content": " @skills.stealth.rank >= 4 || false ", 
      "pdf": "Stealth_L"
    }, 
    {
      "content": " @skills.stealth.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => ([i.modifier].reduce((partialSum, a) => partialSum + a, 0) < 0 ? [i.modifier].reduce((partialSum, a) => partialSum + a, 0) : '+' + [i.modifier].reduce((partialSum, a) => partialSum + a, 0)) || '0') ", 
      "pdf": "Stealth_ItemMod"
    }, 
    {
      "content": " @skills.stealth.modifiers.filter(i => i.slug === 'armor-check-penalty' ).map(i => i.modifier) || '0' ", 
      "pdf": "Stealth_ArmorMod"
    }, 
    {
      "content": " (@skills.survival.mod < 0 ? '' : '+') + @skills.survival.mod || '0' ", 
      "pdf": "Survival"
    }, 
    {
      "content": " @skills.survival.attributeModifier.modifier || '0' ", 
      "pdf": "Survival_Mod"
    }, 
    {
      "content": " @skills.survival.modifiers.filter(i => i.type == 'proficiency').map(i => i.modifier) || '0' ", 
      "pdf": "Survival_ProfMod"
    }, 
    {
      "content": " @skills.survival.rank >= 1 || false ", 
      "pdf": "Survival_T"
    }, 
    {
      "content": " @skills.survival.rank >= 2 || false ", 
      "pdf": "Survival_E"
    }, 
    {
      "content": " @skills.survival.rank >= 3 || false ", 
      "pdf": "Survival_M"
    }, 
    {
      "content": " @skills.survival.rank >= 4 || false ", 
      "pdf": "Survival_L"
    }, 
    {
      "content": " @skills.survival.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => ([i.modifier].reduce((partialSum, a) => partialSum + a, 0) < 0 ? [i.modifier].reduce((partialSum, a) => partialSum + a, 0) : '+' + [i.modifier].reduce((partialSum, a) => partialSum + a, 0)) || '0') ", 
      "pdf": "Survival_ItemMod"
    }, 
    {
      "content": " (@skills.thievery.mod < 0 ? '' : '+') + @skills.thievery.mod || '0' ", 
      "pdf": "Thievery"
    }, 
    {
      "content": " @skills.thievery.attributeModifier.modifier || '0' ", 
      "pdf": "Thievery_Mod"
    }, 
    {
      "content": " @skills.thievery.modifiers.filter(i => i.type == 'proficiency').map(i => i.modifier) || '0' ", 
      "pdf": "Thievery_ProfMod"
    }, 
    {
      "content": " @skills.thievery.rank >= 1 || false ", 
      "pdf": "Thievery_T"
    }, 
    {
      "content": " @skills.thievery.rank >= 2 || false ", 
      "pdf": "Thievery_E"
    }, 
    {
      "content": " @skills.thievery.rank >= 3 || false ", 
      "pdf": "Thievery_M"
    }, 
    {
      "content": " @skills.thievery.rank >= 4 || false ", 
      "pdf": "Thievery_L"
    }, 
    {
      "content": " @skills.acrobatics.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => ([i.modifier].reduce((partialSum, a) => partialSum + a, 0) < 0 ? [i.modifier].reduce((partialSum, a) => partialSum + a, 0) : '+' + [i.modifier].reduce((partialSum, a) => partialSum + a, 0)) || '0') ", 
      "pdf": "Thievery_ItemMod"
    }, 
    {
      "content": " @skills.acrobatics.modifiers.filter(i => i.slug === 'armor-check-penalty' ).map(i => i.modifier) || '0' ", 
      "pdf": "Thievery_ArmorMod"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.label)[0] || '' ", 
      "pdf": "Lore1_Name"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.mod < 0 ? i.mod : '+' + i.mod)[0] || '0' ", 
      "pdf": "Lore1"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.attributeModifier.modifier)[0] || '0' ", 
      "pdf": "Lore1_Mod"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.modifiers.filter(i => i.type === 'proficiency').map(i => i.modifier))[0] || '0' ", 
      "pdf": "Lore1_ProfMod"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.rank)[0] >= 1 || false ", 
      "pdf": "Lore1_T"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.rank)[0] >= 2 || false ", 
      "pdf": "Lore1_E"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.rank)[0] >= 3 || false ", 
      "pdf": "Lore1_M"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.rank)[0] >= 4 || false ", 
      "pdf": "Lore1_L"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => i.modifier))[0] || '0' ", 
      "pdf": "Lore1_ItemMod"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.label)[1] || '' ", 
      "pdf": "Lore2_Name"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.mod < 0 ? i.mod : '+' + i.mod)[1] || '0' ", 
      "pdf": "Lore2"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.attributeModifier.modifier)[1] || '0' ", 
      "pdf": "Lore2_Mod"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.modifiers.filter(i => i.type === 'proficiency').map(i => i.modifier))[1] || '0' ", 
      "pdf": "Lore2_ProfMod"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.rank)[1] >= 1 || false ", 
      "pdf": "Lore2_T"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.rank)[1] >= 2 || false ", 
      "pdf": "Lore2_E"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.rank)[1] >= 3 || false ", 
      "pdf": "Lore2_M"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.rank)[1] >= 4 || false ", 
      "pdf": "Lore2_L"
    }, 
    {
      "content": " Object.values(@skills).filter(i => i.lore).map(i => i.modifiers.filter(i => i.type === 'item' && i.enabled && i.slug !== 'armor-check-penalty').map(i => i.modifier))[1] || '0' ", 
      "pdf": "Lore2_ItemMod"
    }, 
    {
      "content": "\n        @items.filter(i => i.type === 'feat' && (i.category === 'ancestryfeature' || i.category == 'heritage'))\n            .sort( (a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)) )\n            .map(i => i.name).join(', ')\n    ", 
      "pdf": "1_Ancestry_Hertitage_Abilities"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'ancestry-1').map(i => i.name) || '' ", 
      "pdf": "1_Ancestry_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'skill-2').map(i => i.name) || '' ", 
      "pdf": "2_Skill_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'general-3').map(i => i.name) || '' ", 
      "pdf": "3_General_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'skill-4').map(i => i.name) || '' ", 
      "pdf": "4_Skill_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'ancestry-5').map(i => i.name) || '' ", 
      "pdf": "5_Ancestry_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'skill-6').map(i => i.name) || '' ", 
      "pdf": "6_Skill_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'general-7').map(i => i.name) || '' ", 
      "pdf": "7_General_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'skill-8').map(i => i.name) || '' ", 
      "pdf": "8_Skill_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'ancestry-9').map(i => i.name) || '' ", 
      "pdf": "9_Ancestry_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'skill-10').map(i => i.name) || '' ", 
      "pdf": "10_Skill_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'general-11').map(i => i.name) || '' ", 
      "pdf": "11_General_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'skill-12').map(i => i.name) || '' ", 
      "pdf": "12_Skill_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'ancestry-13').map(i => i.name) || '' ", 
      "pdf": "13_Ancestry_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'skill-14').map(i => i.name) || '' ", 
      "pdf": "14_Skill_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'general-15').map(i => i.name) || '' ", 
      "pdf": "15_General_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'skill-16').map(i => i.name) || '' ", 
      "pdf": "16_Skill_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'ancestry-17').map(i => i.name) || '' ", 
      "pdf": "17_Ancestry_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'skill-18').map(i => i.name) || '' ", 
      "pdf": "18_Skill_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'general-19').map(i => i.name) || '' ", 
      "pdf": "19_General_Feat"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'skill-20').map(i => i.name) || '' ", 
      "pdf": "20_Skill_Feat"
    }, 
    {
      "content": "\n        @items.filter(i => i.type === 'feat' && i.system.level.value === 1 && (i.system.category === 'classfeature' || i.system.category === 'class'))\n            .sort( (a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)) )\n            .map(i => i.name) || ''\n    ", 
      "pdf": "1_Class_Feats_Features"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'class-2').map(i => i.name) || '' ", 
      "pdf": "2_Class_Feat"
    }, 
    {
      "content": "\n        @items.filter(i => i.type === 'feat' && i.system.category === 'classfeature' && i.system.level.value === 3)\n            .sort( (a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)) )\n            .map(i => i.name)\n    ", 
      "pdf": "3_Class_Feature"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'class-4').map(i => i.name) || '' ", 
      "pdf": "4_Class_Feat"
    }, 
    {
      "content": "\n        @items.filter(i => i.type === 'feat' && i.system.category === 'classfeature' && i.system.level.value === 5)\n            .sort( (a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)) )\n            .map(i => i.name)\n    ", 
      "pdf": "5_Class_Feature"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'class-6').map(i => i.name) || '' ", 
      "pdf": "6_Class_Feat"
    }, 
    {
      "content": "\n        @items.filter(i => i.type === 'feat' && i.system.category === 'classfeature' && i.system.level.value === 7)\n            .sort( (a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)) )\n            .map(i => i.name)\n        ", 
      "pdf": "7_Class_Feature"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'class-8').map(i => i.name) || '' ", 
      "pdf": "8_Class_Feat"
    }, 
    {
      "content": "\n        @items.filter(i => i.type === 'feat' && i.system.category === 'classfeature' && i.system.level.value === 9)\n            .sort( (a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)) )\n            .map(i => i.name)\n    ", 
      "pdf": "9_Class_Feature"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'class-10').map(i => i.name) || '' ", 
      "pdf": "10_Class_Feat"
    }, 
    {
      "content": "\n        @items.filter(i => i.type === 'feat' && i.system.category === 'classfeature' && i.system.level.value === 11)\n            .sort( (a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)) )\n            .map(i => i.name)\n    ", 
      "pdf": "11_Class_Feature"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'class-12').map(i => i.name) || '' ", 
      "pdf": "12_Class_Feat"
    }, 
    {
      "content": "\n        @items.filter(i => i.type === 'feat' && i.system.category === 'classfeature' && i.system.level.value === 13)\n            .sort( (a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)) )\n            .map(i => i.name)\n    ", 
      "pdf": "13_Class_Feature"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'class-14').map(i => i.name) || '' ", 
      "pdf": "14_Class_Feat"
    }, 
    {
      "content": "\n        @items.filter(i => i.type === 'feat' && i.system.category === 'classfeature' && i.system.level.value === 15)\n            .sort( (a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)) )\n            .map(i => i.name)\n    ", 
      "pdf": "15_Class_Feature"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'class-16').map(i => i.name) || '' ", 
      "pdf": "16_Class_Feat"
    }, 
    {
      "content": "\n        @items.filter(i => i.type === 'feat' && i.system.category === 'classfeature' && i.system.level.value === 17)\n            .sort( (a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)) )\n            .map(i => i.name)\n    ", 
      "pdf": "17_Class_Feature"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'class-18').map(i => i.name) || '' ", 
      "pdf": "18_Class_Feat"
    }, 
    {
      "content": "\n        @items.filter(i => i.type === 'feat' && i.system.category === 'classfeature' && i.system.level.value === 18)\n            .sort( (a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)) )\n            .map(i => i.name)\n    ", 
      "pdf": "19_Class_Feature"
    }, 
    {
      "content": " @items.filter(i => i.type === 'feat' && i.system.location === 'class-20').map(i => i.name) || '' ", 
      "pdf": "20_Class_Feat"
    }, 
    {
      "content": "\n            @inventory.filter(i => i.system.usage.type === 'held' && i.type !== 'consumable')\n                .sort( (a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)) )\n                .map(i => '- ' + ((i.system.quantity > 1) ? i.system.quantity + ' ' : '') + i.name + (i.isMagical ? '* ' : ' ') +  i.system.weight.value).join('\\n') || ''\n    ", 
      "pdf": "Held_Items"
    }, 
    {
      "content": "\n            @inventory.filter(i => i.type === 'consumable')\n                .sort( (a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)) )\n                .map(i => '- ' + ((i.system.quantity > 1) ? i.system.quantity + ' ' : '') + i.name + (i.isMagical ? '* ' : ' ') +  i.system.weight.value).join('\\n') || ''\n    ", 
      "pdf": "Consumables"
    }, 
    {
      "content": "\n            @inventory.filter(i => i.system.usage.type === 'worn' && i.type !== 'consumable')\n                .sort( (a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)) )\n                .map(i => '- ' + ((i.system.quantity > 1) ? i.system.quantity + ' ' : '') + i.name + (i.isMagical ? '* ' : ' ') +  i.system.weight.value).join('\\n') || ''\n    ", 
      "pdf": "Worn_Items"
    }, 
    {
      "content": " @inventory.coins.cp || 0 ", 
      "pdf": "Copper"
    }, 
    {
      "content": " @inventory.coins.sp || 0 ", 
      "pdf": "Silver"
    }, 
    {
      "content": " @inventory.coins.gp || 0 ", 
      "pdf": "Gold"
    }, 
    {
      "content": " @inventory.coins.pp || 0 ", 
      "pdf": "Platinum"
    }, 
    {
      "content": " @inventory.bulk.value.normal ", 
      "pdf": "CurrentBulk"
    }, 
    {
      "content": " @system.details.ethnicity.value || '' ", 
      "pdf": "Ethnicity"
    }, 
    {
      "content": " @system.details.nationality.value || '' ", 
      "pdf": "Nationality"
    }, 
    {
      "content": " @system.details.biography.birthPlace || '' ", 
      "pdf": "Birthplace"
    }, 
    {
      "content": " @system.details.age.value || '' ", 
      "pdf": "Age"
    }, 
    {
      "content": " @system.details.gender.value || '' ", 
      "pdf": "GenderPronouns"
    }, 
    {
      "content": " @system.details.height.value || '' ", 
      "pdf": "Height"
    }, 
    {
      "content": " @system.details.weight.value || '' ", 
      "pdf": "Weight"
    }, 
    {
      "content": " @system.details.biography.appearance.replace('<p>', '').replace('</p>', '') || '' ", 
      "pdf": "Appearance"
    }, 
    {
      "content": " @system.details.biography.attitude || '' ", 
      "pdf": "Attitude"
    }, 
    {
      "content": " @system.details.biography.likes || '' ", 
      "pdf": "Likes"
    }, 
    {
      "content": " @system.details.biography.dislikes || '' ", 
      "pdf": "Dislikes"
    }, 
    {
      "content": " @system.details.biography.catchphrases || '' ", 
      "pdf": "Catchphrases"
    }, 
    {
      "content": " @system.details.biography.campaignNotes.replace('<p>', '').replace('</p>', '') || '' ", 
      "pdf": "CampaignNotes"
    }, 
    {
      "content": " @system.details.biography.allies.replace('<p>', '').replace('</p>', '') || '' ", 
      "pdf": "Allies"
    }, 
    {
      "content": " @system.details.biography.enemies.replace('<p>', '').replace('</p>', '') || '' ", 
      "pdf": "Enemies"
    }, 
    {
      "content": " @system.details.biography.organaizations?.replace('<p>', '').replace('</p>', '') || '' ", 
      "pdf": "Organizations"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.name)[0] || ''\n    ", 
      "pdf": "Activity1_Name"
    }, 
    {
      "content": "\n        ['','\u00e1','\u00e2','\u00e3'][@items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.system.actions.value)[0]] || ''\n    ", 
      "pdf": "Activity1_ActionCount"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => [i.system.traits.rarity].concat(i.system.traits.value).join(', '))[0] || ''\n    ", 
      "pdf": "Activity1_Traits"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => (typeof i.frequency !== 'undefined' && i.frequency) !== null ? (i.frequency?.max + ' / ' + i.frequency?.per) : '')[0] || ''\n    ", 
      "pdf": "Activity1_Frequency"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.system.publication?.title || i.system.source?.value)[0] || ''\n    ", 
      "pdf": "Activity1_Reference"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.name)[1] || ''\n    ", 
      "pdf": "Activity2_Name"
    }, 
    {
      "content": "\n        ['','\u00e1','\u00e2','\u00e3'][@items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.system.actions.value)[1]] || ''\n    ", 
      "pdf": "Activity2_ActionCount"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => [i.system.traits.rarity].concat(i.system.traits.value).join(', '))[1] || ''\n    ", 
      "pdf": "Activity2_Traits"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => (typeof i.frequency !== 'undefined' && i.frequency) !== null ? (i.frequency?.max + ' / ' + i.frequency?.per) : '')[1] || ''\n    ", 
      "pdf": "Activity2_Frequency"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.system.publication?.title || i.system.source?.value)[1] || ''\n    ", 
      "pdf": "Activity2_Reference"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.name)[2] || ''\n    ", 
      "pdf": "Activity3_Name"
    }, 
    {
      "content": "\n        ['','\u00e1','\u00e2','\u00e3'][@items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.system.actions.value)[2]] || ''\n    ", 
      "pdf": "Activity3_ActionCount"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => [i.system.traits.rarity].concat(i.system.traits.value).join(', '))[2] || ''\n    ", 
      "pdf": "Activity3_Traits"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => (typeof i.frequency !== 'undefined' && i.frequency) !== null ? (i.frequency?.max + ' / ' + i.frequency?.per) : '')[2] || ''\n    ", 
      "pdf": "Activity3_Frequency"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.system.publication?.title || i.system.source?.value)[2] || ''\n    ", 
      "pdf": "Activity3_Reference"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.name)[3] || ''\n    ", 
      "pdf": "Activity4_Name"
    }, 
    {
      "content": "\n        ['','\u00e1','\u00e2','\u00e3'][@items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.system.actions.value)[3]] || ''\n    ", 
      "pdf": "Activity4_ActionCount"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => [i.system.traits.rarity].concat(i.system.traits.value).join(', '))[3] || ''\n    ", 
      "pdf": "Activity4_Traits"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => (typeof i.frequency !== 'undefined' && i.frequency) !== null ? (i.frequency?.max + ' / ' + i.frequency?.per) : '')[3] || ''\n    ", 
      "pdf": "Activity4_Frequency"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.system.publication?.title || i.system.source?.value)[3] || ''\n    ", 
      "pdf": "Activity4_Reference"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.name)[4] || ''\n    ", 
      "pdf": "Activity5_Name"
    }, 
    {
      "content": "\n        ['','\u00e1','\u00e2','\u00e3'][@items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.system.actions.value)[4]] || ''\n    ", 
      "pdf": "Activity5_ActionCount"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => [i.system.traits.rarity].concat(i.system.traits.value).join(', '))[4] || ''\n    ", 
      "pdf": "Activity5_Traits"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => (typeof i.frequency !== 'undefined' && i.frequency) !== null ? (i.frequency?.max + ' / ' + i.frequency?.per) : '')[4] || ''\n    ", 
      "pdf": "Activity5_Frequency"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.system.publication?.title || i.system.source?.value)[4] || ''\n    ", 
      "pdf": "Activity5_Reference"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.name)[5] || ''\n    ", 
      "pdf": "Activity6_Name"
    }, 
    {
      "content": "\n        ['','\u00e1','\u00e2','\u00e3'][@items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.system.actions.value)[5]] || ''\n    ", 
      "pdf": "Activity6_ActionCount"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => [i.system.traits.rarity].concat(i.system.traits.value).join(', '))[5] || ''\n    ", 
      "pdf": "Activity6_Traits"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => (typeof i.frequency !== 'undefined' && i.frequency) !== null ? (i.frequency?.max + ' / ' + i.frequency?.per) : '')[5] || ''\n    ", 
      "pdf": "Activity6_Frequency"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.system.publication?.title || i.system.source?.value)[5] || ''\n    ", 
      "pdf": "Activity6_Reference"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.name)[6] || ''\n    ", 
      "pdf": "Activity7_Name"
    }, 
    {
      "content": "\n        ['','\u00e1','\u00e2','\u00e3'][@items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.system.actions.value)[6]] || ''\n    ", 
      "pdf": "Activity7_ActionCount"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => [i.system.traits.rarity].concat(i.system.traits.value).join(', '))[6] || ''\n    ", 
      "pdf": "Activity7_Traits"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => (typeof i.frequency !== 'undefined' && i.frequency) !== null ? (i.frequency?.max + ' / ' + i.frequency?.per) : '')[6] || ''\n    ", 
      "pdf": "Activity7_Frequency"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.system.publication?.title || i.system.source?.value)[6] || ''\n    ", 
      "pdf": "Activity7_Reference"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.name)[7] || ''\n    ", 
      "pdf": "Activity8_Name"
    }, 
    {
      "content": "\n        ['','\u00e1','\u00e2','\u00e3'][@items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.system.actions.value)[7]] || ''\n    ", 
      "pdf": "Activity8_ActionCount"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => [i.system.traits.rarity].concat(i.system.traits.value).join(', '))[7] || ''\n    ", 
      "pdf": "Activity8_Traits"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => (typeof i.frequency !== 'undefined' && i.frequency) !== null ? (i.frequency?.max + ' / ' + i.frequency?.per) : '')[7] || ''\n    ", 
      "pdf": "Activity8_Frequency"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && i.system.actionType.value == 'action' )\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => i.system.publication?.title || i.system.source?.value)[7] || ''\n    ", 
      "pdf": "Activity8_Reference"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => i.name)[0] || ''\n    ", 
      "pdf": "Activity9_Name"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => (i.system.actionType.value === 'reaction' ? '\u00e4' : '\u00e0'))[0] || ''\n    ", 
      "pdf": "Activity9_ActionCount"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => [i.system.traits.rarity].concat(i.system.traits.value).join(', '))[0] || ''\n    ", 
      "pdf": "Activity9_Traits"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => (typeof i.frequency !== 'undefined' && i.frequency) !== null ? (i.frequency?.max + ' / ' + i.frequency?.per) : '')[0] || ''\n    ", 
      "pdf": "Activity9_Frequency"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => i.system.publication?.title || i.system.source?.value)[0] || ''\n    ", 
      "pdf": "Activity9_Reference"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => i.name)[1] || ''\n    ", 
      "pdf": "Activity10_Name"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => (i.system.actionType.value === 'reaction' ? '\u00e4' : '\u00e0'))[1] || ''\n    ", 
      "pdf": "Activity10_ActionCount"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => [i.system.traits.rarity].concat(i.system.traits.value).join(', '))[1] || ''\n    ", 
      "pdf": "Activity10_Traits"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => (typeof i.frequency !== 'undefined' && i.frequency) !== null ? (i.frequency?.max + ' / ' + i.frequency?.per) : '')[1] || ''\n    ", 
      "pdf": "Activity10_Frequency"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => i.system.publication?.title || i.system.source?.value)[1] || ''\n    ", 
      "pdf": "Activity10_Reference"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => i.name)[2] || ''\n    ", 
      "pdf": "Activity11_Name"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => (i.system.actionType.value === 'reaction' ? '\u00e4' : '\u00e0'))[2] || ''\n    ", 
      "pdf": "Activity11_ActionCount"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => [i.system.traits.rarity].concat(i.system.traits.value).join(', '))[2] || ''\n    ", 
      "pdf": "Activity11_Traits"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => (typeof i.frequency !== 'undefined' && i.frequency) !== null ? (i.frequency?.max + ' / ' + i.frequency?.per) : '')[2] || ''\n    ", 
      "pdf": "Activity11_Frequency"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => i.system.publication?.title || i.system.source?.value)[2] || ''\n    ", 
      "pdf": "Activity11_Reference"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => i.name)[3] || ''\n    ", 
      "pdf": "Activity12_Name"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => (i.system.actionType.value === 'reaction' ? '\u00e4' : '\u00e0'))[3] || ''\n    ", 
      "pdf": "Activity12_ActionCount"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => [i.system.traits.rarity].concat(i.system.traits.value).join(', '))[3] || ''\n    ", 
      "pdf": "Activity12_Traits"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => (typeof i.frequency !== 'undefined' && i.frequency) !== null ? (i.frequency?.max + ' / ' + i.frequency?.per) : '')[3] || ''\n    ", 
      "pdf": "Activity12_Frequency"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => i.system.source.value)[3] || ''\n        .map(i => i.system.publication?.title || i.system.source?.value)[3] || ''\n    ", 
      "pdf": "Activity12_Reference"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => i.name)[4] || ''\n    ", 
      "pdf": "Activity13_Name"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => (i.system.actionType.value === 'reaction' ? '\u00e4' : '\u00e0'))[4] || ''\n    ", 
      "pdf": "Activity13_ActionCount"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => [i.system.traits.rarity].concat(i.system.traits.value).join(', '))[4] || ''\n    ", 
      "pdf": "Activity13_Traits"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => (typeof i.frequency !== 'undefined' && i.frequency) !== null ? (i.frequency?.max + ' / ' + i.frequency?.per) : '')[4] || ''\n    ", 
      "pdf": "Activity13_Frequency"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => i.system.publication?.title || i.system.source?.value)[4] || ''\n    ", 
      "pdf": "Activity13_Reference"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => i.name)[5] || ''\n    ", 
      "pdf": "Activity14_Name"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => (i.system.actionType.value === 'reaction' ? '\u00e4' : '\u00e0'))[5] || ''\n    ", 
      "pdf": "Activity14_ActionCount"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => [i.system.traits.rarity].concat(i.system.traits.value).join(', '))[5] || ''\n    ", 
      "pdf": "Activity14_Traits"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => (typeof i.frequency !== 'undefined' && i.frequency) !== null ? (i.frequency?.max + ' / ' + i.frequency?.per) : '')[5] || ''\n    ", 
      "pdf": "Activity14_Frequency"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => i.system.publication?.title || i.system.source?.value)[5] || ''\n    ", 
      "pdf": "Activity14_Reference"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => i.name)[6] || ''\n    ", 
      "pdf": "Activity15_Name"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => (i.system.actionType.value === 'reaction' ? '\u00e4' : '\u00e0'))[6] || ''\n    ", 
      "pdf": "Activity15_ActionCount"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => [i.system.traits.rarity].concat(i.system.traits.value).join(', '))[6] || ''\n    ", 
      "pdf": "Activity15_Traits"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => (typeof i.frequency !== 'undefined' && i.frequency) !== null ? (i.frequency?.max + ' / ' + i.frequency?.per) : '')[6] || ''\n    ", 
      "pdf": "Activity15_Frequency"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => i.system.publication?.title || i.system.source?.value)[6] || ''\n    ", 
      "pdf": "Activity15_Reference"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => i.name)[7] || ''\n    ", 
      "pdf": "Activity16_Name"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => (i.system.actionType.value === 'reaction' ? '\u00e4' : '\u00e0'))[7] || ''\n    ", 
      "pdf": "Activity16_ActionCount"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => [i.system.traits.rarity].concat(i.system.traits.value).join(', '))[7] || ''\n    ", 
      "pdf": "Activity16_Traits"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => (typeof i.frequency !== 'undefined' && i.frequency) !== null ? (i.frequency?.max + ' / ' + i.frequency?.per) : '')[7] || ''\n    ", 
      "pdf": "Activity16_Frequency"
    }, 
    {
      "content": "\n        @items.filter(i => (typeof i.system.actionType?.value !== 'undefined' && i.system.actionType?.value !== null) && ( i.system.actionType.value === 'reaction' || i.system.actionType.value === 'free'))\n        .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n        .reverse()\n        .sort((a,b) => (a.system.actionType.value < b.system.actionType.value ? -1 : (a.system.actionType.value > b.system.actionType.value ? 1 : 0)))\n        .reverse()\n        .map(i => i.system.publication?.title || i.system.source?.value)[7] || ''\n    ", 
      "pdf": "Activity16_Reference"
    }, 
    {
      "content": "\n        @spellcasting.filter(i => i.system?.tradition?.value === 'arcane' && (i.system?.prepared?.value === 'prepared' || i.system?.prepared?.value === 'spontaneous')).length || false\n    ", 
      "pdf": "Arcane"
    }, 
    {
      "content": "\n        @spellcasting.filter(i => i.system?.tradition?.value === 'occult' && (i.system?.prepared?.value === 'prepared' || i.system?.prepared?.value === 'spontaneous')).length || false\n    ", 
      "pdf": "Occult"
    }, 
    {
      "content": "\n        @spellcasting.filter(i => i.system?.tradition?.value === 'primal' && (i.system?.prepared?.value === 'prepared' || i.system?.prepared?.value === 'spontaneous')).length || false\n    ", 
      "pdf": "Primal"
    }, 
    {
      "content": "\n        @spellcasting.filter(i => i.system?.tradition?.value === 'divine' && (i.system?.prepared?.value === 'prepared' || i.system?.prepared?.value === 'spontaneous')).length || false\n    ", 
      "pdf": "Divine"
    }, 
    {
      "content": "\n        @spellcasting.filter(i => (\n            i.system.tradition.value === 'arcane' ||\n            i.system.tradition.value === 'occult' ||\n            i.system.tradition.value === 'primal' ||\n            i.system.tradition.value === 'divine'\n        ) && i.system.prepared.value === 'prepared').length || false\n    ", 
      "pdf": "Prepared_Caster"
    }, 
    {
      "content": "\n        @spellcasting.filter(i => (\n            i.system.tradition.value === 'arcane' ||\n            i.system.tradition.value === 'occult' ||\n            i.system.tradition.value === 'primal' ||\n            i.system.tradition.value === 'divine'\n        ) && i.system.prepared.value === 'spontaneous').length || false\n    ", 
      "pdf": "Spontaneous_Caster"
    }, 
    {
      "content": "\n        @spellcasting.filter(i => i.system.tradition.value !== '')\n            .sort( (a,b) => (a.statistic.check.mod < b.statistic.check.mod ? -1 : (a.statistic.check.mod > b.statistic.check.mod ? 1 : 0)) ).reverse()\n            .map(i => i.statistic.check.mod)[0] || ''\n    ", 
      "pdf": "SpellAttack"
    }, 
    {
      "content": "\n        @spellcasting.filter(i => i.system.tradition.value !== '')\n            .sort( (a,b) => (a.statistic.check.mod < b.statistic.check.mod ? -1 : (a.statistic.check.mod > b.statistic.check.mod ? 1 : 0)) ).reverse()\n            .map(i => i.statistic.attributeModifier.value)[0] || ''\n    ", 
      "pdf": "SpellAtk_KeyMod"
    }, 
    {
      "content": "\n            @spellcasting.filter(i =>\n        (\n            i.system.tradition.value === 'arcane' ||\n            i.system.tradition.value === 'occult' ||\n            i.system.tradition.value === 'primal' ||\n            i.system.tradition.value === 'divine'\n        ) && (\n            i.system.prepared.value === 'prepared' ||\n            i.system.prepared.value === 'spontaneous'\n        )\n        ).map(i => i.statistic.check.modifiers)[0]?.filter(a => a.type == 'proficiency').map(a => a.modifier)[0] || ''\n    ", 
      "pdf": "SpellAtk_ProfMod"
    }, 
    {
      "content": " @items.filter(i => i.type === 'spellcastingEntry').map(i => (i.system.proficiency.value >= 1) || \"\")[0] ", 
      "pdf": "SpellAtk_T"
    }, 
    {
      "content": " @items.filter(i => i.type === 'spellcastingEntry').map(i => (i.system.proficiency.value >= 2) || \"\")[0] ", 
      "pdf": "SpellAtk_E"
    }, 
    {
      "content": " @items.filter(i => i.type === 'spellcastingEntry').map(i => (i.system.proficiency.value >= 3) || \"\")[0] ", 
      "pdf": "SpellAtk_M"
    }, 
    {
      "content": " @items.filter(i => i.type === 'spellcastingEntry').map(i => (i.system.proficiency.value >= 4) || \"\")[0] ", 
      "pdf": "SpellAtk_L"
    }, 
    {
      "content": "\n        @spellcasting.filter(i =>\n        (\n            i.system.tradition.value === 'arcane' ||\n            i.system.tradition.value === 'occult' ||\n            i.system.tradition.value === 'primal' ||\n            i.system.tradition.value === 'divine'\n        ) && (\n            i.system.prepared.value === 'prepared' ||\n            i.system.prepared.value === 'spontaneous'\n        )\n        ).map(i => i.statistic.dc.value)[0] || ''\n\n        ", 
      "pdf": "SpellDC"
    }, 
    {
      "content": "\n        @spellcasting.filter(i =>\n        (\n            i.system.tradition.value === 'arcane' ||\n            i.system.tradition.value === 'occult' ||\n            i.system.tradition.value === 'primal' ||\n            i.system.tradition.value === 'divine'\n        ) && (\n            i.system.prepared.value === 'prepared' ||\n            i.system.prepared.value === 'spontaneous'\n        )\n        ).map(i => i.statistic.dc.modifiers)[0]?.filter(a => a.type == 'ability').map(a => a.modifier)[0] || ''\n    ", 
      "pdf": "SpellDC_KeyMod"
    }, 
    {
      "content": "\n        @spellcasting.filter(i =>\n        (\n            i.system.tradition.value === 'arcane' ||\n            i.system.tradition.value === 'occult' ||\n            i.system.tradition.value === 'primal' ||\n            i.system.tradition.value === 'divine'\n        ) && (\n            i.system.prepared.value === 'prepared' ||\n            i.system.prepared.value === 'spontaneous'\n        )\n        ).map(i => i.statistic.dc.modifiers)[0]?.filter(a => a.type == 'proficiency').map(a => a.modifier)[0] || ''\n\n    ", 
      "pdf": "SpellDC_ProfMod"
    }, 
    {
      "content": " @items.filter(i => i.type === 'spellcastingEntry').map(i => (i.system.proficiency.value >= 1) || \"\")[0] ", 
      "pdf": "SpellDC_T"
    }, 
    {
      "content": " @items.filter(i => i.type === 'spellcastingEntry').map(i => (i.system.proficiency.value >= 2) || \"\")[0] ", 
      "pdf": "SpellDC_E"
    }, 
    {
      "content": " @items.filter(i => i.type === 'spellcastingEntry').map(i => (i.system.proficiency.value >= 3) || \"\")[0] ", 
      "pdf": "SpellDC_M"
    }, 
    {
      "content": " @items.filter(i => i.type === 'spellcastingEntry').map(i => (i.system.proficiency.value >= 4) || \"\")[0] ", 
      "pdf": "SpellDC_L"
    }, 
    {
      "content": " @items.filter(i => i.type === 'spell' && i.isCantrip)[0] ? Math.round(@system.details.level.value / 2) : '' ", 
      "pdf": "Cantrip_Rank"
    }, 
    {
      "content": " @items.filter(i => i.type === 'spellcastingEntry' && (i.spells.entry.system.prepared.value === 'prepared' || i.spells.entry.system.prepared.value === 'spontaneous')).map( i => (i.spells.entry.system.slots.slot0.max > 0) ? i.spells.entry.system.slots.slot1.max : 0).reduce((accum, current) => accum + current, 0 ) ", 
      "pdf": "Cantrip_Slots"
    }, 
    {
      "content": "\n    @spellcasting.filter(i =>\n        (\n            i.system.tradition.value === 'arcane' ||\n            i.system.tradition.value === 'occult' ||\n            i.system.tradition.value === 'primal' ||\n            i.system.tradition.value === 'divine'\n        ) && (\n            i.system.prepared.value === 'prepared' ||\n            i.system.prepared.value === 'spontaneous'\n        )\n    ).map(i => i.spells.entry.system.slots.slot1.max) || ''\n    ", 
      "pdf": "Lvl1_Slots"
    }, 
    {
      "content": "\n    @spellcasting.filter(i =>\n        (\n            i.system.tradition.value === 'arcane' ||\n            i.system.tradition.value === 'occult' ||\n            i.system.tradition.value === 'primal' ||\n            i.system.tradition.value === 'divine'\n        ) && (\n            i.system.prepared.value === 'prepared' ||\n            i.system.prepared.value === 'spontaneous'\n        )\n    ).map(i => i.spells.entry.system.slots.slot2.max) || ''\n    ", 
      "pdf": "Lvl2_Slots"
    }, 
    {
      "content": "\n    @spellcasting.filter(i =>\n        (\n            i.system.tradition.value === 'arcane' ||\n            i.system.tradition.value === 'occult' ||\n            i.system.tradition.value === 'primal' ||\n            i.system.tradition.value === 'divine'\n        ) && (\n            i.system.prepared.value === 'prepared' ||\n            i.system.prepared.value === 'spontaneous'\n        )\n    ).map(i => i.spells.entry.system.slots.slot3.max) || ''\n    ", 
      "pdf": "Lvl3_Slots"
    }, 
    {
      "content": "\n    @spellcasting.filter(i =>\n        (\n            i.system.tradition.value === 'arcane' ||\n            i.system.tradition.value === 'occult' ||\n            i.system.tradition.value === 'primal' ||\n            i.system.tradition.value === 'divine'\n        ) && (\n            i.system.prepared.value === 'prepared' ||\n            i.system.prepared.value === 'spontaneous'\n        )\n    ).map(i => i.spells.entry.system.slots.slot4.max) || ''\n    ", 
      "pdf": "Lvl4_Slots"
    }, 
    {
      "content": "\n    @spellcasting.filter(i =>\n        (\n            i.system.tradition.value === 'arcane' ||\n            i.system.tradition.value === 'occult' ||\n            i.system.tradition.value === 'primal' ||\n            i.system.tradition.value === 'divine'\n        ) && (\n            i.system.prepared.value === 'prepared' ||\n            i.system.prepared.value === 'spontaneous'\n        )\n    ).map(i => i.spells.entry.system.slots.slot5.max) || ''\n    ", 
      "pdf": "Lvl5_Slots"
    }, 
    {
      "content": "\n    @spellcasting.filter(i =>\n        (\n            i.system.tradition.value === 'arcane' ||\n            i.system.tradition.value === 'occult' ||\n            i.system.tradition.value === 'primal' ||\n            i.system.tradition.value === 'divine'\n        ) && (\n            i.system.prepared.value === 'prepared' ||\n            i.system.prepared.value === 'spontaneous'\n        )\n    ).map(i => i.spells.entry.system.slots.slot6.max) || ''\n    ", 
      "pdf": "Lvl6_Slots"
    }, 
    {
      "content": "\n    @spellcasting.filter(i =>\n        (\n            i.system.tradition.value === 'arcane' ||\n            i.system.tradition.value === 'occult' ||\n            i.system.tradition.value === 'primal' ||\n            i.system.tradition.value === 'divine'\n        ) && (\n            i.system.prepared.value === 'prepared' ||\n            i.system.prepared.value === 'spontaneous'\n        )\n    ).map(i => i.spells.entry.system.slots.slot7.max) || ''\n    ", 
      "pdf": "Lvl7_Slots"
    }, 
    {
      "content": "\n    @spellcasting.filter(i =>\n        (\n            i.system.tradition.value === 'arcane' ||\n            i.system.tradition.value === 'occult' ||\n            i.system.tradition.value === 'primal' ||\n            i.system.tradition.value === 'divine'\n        ) && (\n            i.system.prepared.value === 'prepared' ||\n            i.system.prepared.value === 'spontaneous'\n        )\n    ).map(i => i.spells.entry.system.slots.slot8.max) || ''\n    ", 
      "pdf": "Lvl8_Slots"
    }, 
    {
      "content": "\n    @spellcasting.filter(i =>\n        (\n            i.system.tradition.value === 'arcane' ||\n            i.system.tradition.value === 'occult' ||\n            i.system.tradition.value === 'primal' ||\n            i.system.tradition.value === 'divine'\n        ) && (\n            i.system.prepared.value === 'prepared' ||\n            i.system.prepared.value === 'spontaneous'\n        )\n    ).map(i => i.spells.entry.system.slots.slot9.max) || ''\n    ", 
      "pdf": "Lvl9_Slots"
    }, 
    {
      "content": "\n    @spellcasting.filter(i =>\n        (\n            i.system.tradition.value === 'arcane' ||\n            i.system.tradition.value === 'occult' ||\n            i.system.tradition.value === 'primal' ||\n            i.system.tradition.value === 'divine'\n        ) && (\n            i.system.prepared.value === 'prepared' ||\n            i.system.prepared.value === 'spontaneous'\n        )\n    ).map(i => i.spells.entry.system.slots.slot10.max) || ''\n    ", 
      "pdf": "Lvl10_Slots"
    }, 
    {
      "content": " @items.filter(i => i.type === 'spell' && i.system.category.value === 'focus')[0] ? Math.round(@system.details.level.value / 2) : '' ", 
      "pdf": "Focus_Spell_Rank"
    }, 
    {
      "content": " @system.resources.focus.max >= 1 || false ", 
      "pdf": "Focus_Point_1"
    }, 
    {
      "content": " @system.resources.focus.max >= 2 || false ", 
      "pdf": "Focus_Point_2"
    }, 
    {
      "content": " @system.resources.focus.max >= 3 || false ", 
      "pdf": "Focus_Point_3"
    }, 
    {
      "content": "\n        @items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && i.isCantrip)\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => '- ' + i.name).join('\\n')\n    ", 
      "pdf": "Cantrips_List"
    }, 
    {
      "content": "\n        [].concat(\n        (@items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 1).length >= 1 ? ['Level 1 Spells:'] : []),\n        @items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 1)\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => '- ' + i.name),\n\n        (@items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 2).length >= 1 ? ['', 'Level 2 Spells:'] : []),\n        @items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 2)\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => '- ' + i.name),\n\n        (@items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 3).length >= 1 ? ['', 'Level 3 Spells:'] : []),\n        @items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 3)\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => '- ' + i.name),\n\n        (@items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 4).length >= 1 ? ['', 'Level 4 Spells:'] : []),\n        @items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 4)\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => '- ' + i.name),\n\n    ).join('\\n')\n\n    ", 
      "pdf": "Spells1_List"
    }, 
    {
      "content": "\n        [].concat(\n        (@items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 5).length >= 1 ? ['Level 5 Spells:'] : []),\n        @items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 5)\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => '- ' + i.name),\n\n        (@items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 6).length >= 1 ? ['', 'Level 6 Spells:'] : []),\n        @items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 6)\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => '- ' + i.name),\n\n        (@items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 7).length >= 1 ? ['', 'Level 7 Spells:'] : []),\n        @items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 7)\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => '- ' + i.name),\n\n        (@items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 8).length >= 1 ? ['', 'Level 8 Spells:'] : []),\n        @items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 8)\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => '- ' + i.name),\n\n            (@items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 9).length >= 1 ? ['', 'Level 9 Spells:'] : []),\n            @items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 9)\n                .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n                .map(i => '- ' + i.name),\n\n        (@items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 10).length >= 1 ? ['', 'Level 10 Spells:'] : []),\n        @items.filter(i => i.type === 'spell' && i.system.category.value === 'spell' && !i.isCantrip && i.system.level.value === 10)\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => '- ' + i.name),\n\n        ).join('\\n')\n\n    ", 
      "pdf": "Spells2_List"
    }, 
    {
      "content": "\n        @items.filter(i => i.type === 'spell' && i.system.category.value === 'focus')\n            .sort((a,b) => (a.name < b.name ? -1 : (a.name > b.name ? 1 : 0)))\n            .map(i => '- ' + i.name).join('\\n')\n    ", 
      "pdf": "Focus_Spell_List"
    }
  ]
}